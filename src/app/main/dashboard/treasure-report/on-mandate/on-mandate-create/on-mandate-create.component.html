<div class="dialog-content-wrapper" id="roles-items">
    <mat-toolbar matDialogTitle class="mat-accent m-0 items-data">
        <mat-toolbar-row fxLayout="row" fxLayoutAlign="space-between center">
            <span class="title dialog-title">{{dialogTitle}}</span>
            <button mat-icon-button (click)="matDialogRef.close()" aria-label="Close dialog">
                <mat-icon>close</mat-icon>
            </button>
        </mat-toolbar-row>
    </mat-toolbar>

    <div mat-dialog-content class="p-24 pb-0 m-0" fusePerfectScrollbar>
        <form [formGroup]="onMandateForm">
            <div fxLayout="row" fxLayoutAlign="start" fxLayoutGap="20px">
                <mat-form-field appearance="outline" class="w-100-per cursor-pointer">
                    <mat-label>Cashbook Acct:</mat-label>
                    <mat-select formControlName="cashBookAccountId">
                        <mat-option value="">Cashbook Account Name</mat-option>
                        <mat-option [value]="cashbook.id"
                                    *ngFor="let cashbook of cashbookAccountList">{{cashbook?.title}}</mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
            <div fxLayout="row" fxLayoutAlign="start" fxLayoutGap="10px" style="margin-top: -10px">
                <div *ngIf="cashbookData">
                    <div fxLayout="row" fxLayoutGap="10px">
                        <span style="font-weight: 600">Title of Acct.:</span>&nbsp;
                        <span>{{cashbookData.title}}</span>
                    </div>
                    <div fxLayout="row" fxLayoutGap="10px">
                        <span style="font-weight: 600">Domiciled at.:</span>&nbsp;
                        <span>{{cashbookData?.bank?.name}}</span>
                    </div>
                    <div fxLayout="row" fxLayoutGap="10px">
                        <span style="font-weight: 600">Acct. Number:</span>&nbsp;
                        <span>{{cashbookData?.bankAccountNumber}}</span>
                    </div>
                    <div fxLayout="row" fxLayoutGap="10px">
                        <span style="font-weight: 600">Currency:</span>&nbsp;
                        <span>{{cashbookData.currency?.codeCurrency}}</span>
                    </div>
                    <div fxLayout="row" fxLayoutGap="10px">
                        <span style="font-weight: 600">Curr. Balance:</span>&nbsp;
                        <span>{{cashbookData?.cashbook}}</span>
                    </div>
                </div>
            </div>
            <div fxLayout="row" fxLayoutAlign="start" fxLayoutGap="20px">
                <mat-form-field appearance="outline" fxFlex>
                    <mat-label>Ref No.</mat-label>
                    <input matInput placeholder="Ref No." formControlName="refNumber">
                </mat-form-field>
                <mat-form-field appearance="outline" fxFlex>
                    <mat-label>Batch No.</mat-label>
                    <input matInput placeholder="Batch No." formControlName="batchNumber">
                </mat-form-field>
            </div>
            <div fxLayout="row" fxLayoutAlign="start" fxLayoutGap="20px">
                <mat-form-field appearance="outline" fxFlex>
                    <mat-label>Treasury No.</mat-label>
                    <input matInput placeholder="Treasury No." formControlName="treasuryNumber">
                </mat-form-field>
                <mat-form-field appearance="outline" fxFlex>
                    <mat-label>Value Date</mat-label>
                    <input (click)="valDate.open()" (focus)="valDate.open()" [matDatepicker]="valDate"
                           formControlName="valueDate"
                           matInput>
                    <mat-datepicker-toggle [for]="valDate"
                                           matSuffix></mat-datepicker-toggle>
                    <mat-datepicker #valDate></mat-datepicker>
                </mat-form-field>
            </div>
            <div fxLayout="row" fxLayoutAlign="start" fxLayoutGap="20px">
                <mat-form-field appearance="outline" fxFlex>
                    <mat-label>Instruction to Bank</mat-label>
                    <textarea matInput placeholder="Instruction to Bank" formControlName="instructionToBank"
                              style="resize: none"></textarea>
                </mat-form-field>
            </div>
            <div fxLayout="row" fxLayoutAlign="start" fxLayoutGap="20px">
                <mat-form-field appearance="outline" fxFlex>
                    <mat-label>Prepared By</mat-label>
                    <input matInput placeholder="Prepared By" formControlName="preparedBy">
                </mat-form-field>
                <mat-form-field appearance="outline" fxFlex>
                    <mat-label>Prepared Date</mat-label>
                    <input (click)="preapredBy.open()" (focus)="preapredBy.open()" [matDatepicker]="preapredBy"
                           formControlName="preparedDate"
                           matInput>
                    <mat-datepicker-toggle [for]="preapredBy"
                                           matSuffix></mat-datepicker-toggle>
                    <mat-datepicker #preapredBy></mat-datepicker>
                </mat-form-field>
            </div>
            <div fxLayout="row" fxLayoutAlign="start" fxLayoutGap="20px">
                <mat-form-field appearance="outline" fxFlex>
                    <mat-label>Ist Authorized By</mat-label>
                    <input matInput placeholder="Ist Authorized By" formControlName="istAuthorizedBy">
                </mat-form-field>
                <mat-form-field appearance="outline" fxFlex>
                    <mat-label>Ist Authorized Date</mat-label>
                    <input (click)="isAuthorizedBy.open()" (focus)="isAuthorizedBy.open()" [matDatepicker]="isAuthorizedBy"
                           formControlName="istAuthorizedDate"
                           matInput>
                    <mat-datepicker-toggle [for]="isAuthorizedBy"
                                           matSuffix></mat-datepicker-toggle>
                    <mat-datepicker #isAuthorizedBy></mat-datepicker>
                </mat-form-field>
            </div>
            <div fxLayout="row" fxLayoutAlign="start" fxLayoutGap="20px">
                <mat-form-field appearance="outline" fxFlex>
                    <mat-label>IInd Authorized By</mat-label>
                    <input matInput placeholder="IInd Authorized By" formControlName="secondAuthorizedBy">
                </mat-form-field>
                <mat-form-field appearance="outline" fxFlex>
                    <mat-label>IInd Authorized Date</mat-label>
                    <input (click)="secondAuthorizedDate.open()" (focus)="secondAuthorizedDate.open()" [matDatepicker]="secondAuthorizedDate"
                           formControlName="istAuthorizedDate"
                           matInput>
                    <mat-datepicker-toggle [for]="secondAuthorizedDate"
                                           matSuffix></mat-datepicker-toggle>
                    <mat-datepicker #secondAuthorizedDate></mat-datepicker>
                </mat-form-field>
            </div>
        </form>
    </div>
    <div mat-dialog-actions class="m-0 p-16" fxLayout="row" fxLayoutAlign="end center">
        <button mat-button class="save-button" (click)="matDialogRef.close();"
                aria-label="Cancel">CANCEL
        </button>
        <button mat-button class="save-button"
                (click)="saveMandate()"
                [disabled]="onMandateForm.invalid" aria-label="Save" *ngIf="this.action !== 'EDIT'">ADD
        </button>
        <button mat-button class="save-button"
                (click)="updateMandate()"
                [disabled]="onMandateForm.invalid" aria-label="Update" *ngIf="this.action === 'EDIT'">UPDATE
        </button>
    </div>
</div>
